var e=Object.defineProperty,t=(t,a,s)=>(((t,a,s)=>{a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s})(t,"symbol"!=typeof a?a+"":a,s),s);import{n as a,x as s,y as n,z as r,A as i,B as o,O as l,C as c,D as u,E as d,G as g,H as y,I as f}from"./index.106587f4.js";function h(e){if(!e)return"";return[(e=new Date(1e3*e)).getFullYear(),e.getMonth()+1,e.getDate()].join("-")}function p(e){console.log("asd");let t=e.replace('style=""',"");return t=t.replace(/\<img/gi,'<img class="my-3" style="max-width:100%;height:auto"'),t}function m(e,t){let s=`/pages/${e}/${e}?id=`+t;"detail"===e&&(s="/pages/detail/detail"+t),a({url:s})}const x=(e,t="")=>function(e,t,a,i=!1){return new Promise(((i,o)=>{s({url:n+e,data:t,method:a}).then((e=>{const{data:t,success:a,code:s}=e.data;r(),200==s?i(t):console.log("201")})).catch((e=>{console.log("catch:",e)}))}))}(e,t,"GET"),w=e=>(t,a=i())=>{!c&&o(e,t,a)},b=w(u),v=w(l),K=((e="")=>new class{constructor(){t(this,"prefixKey",e)}getKey(e){return`${this.prefixKey}${e}`.toUpperCase()}set(e,t,a=60){const s=JSON.stringify({value:t,expire:null!==a?(new Date).getTime()+1e3*a:null});d(this.getKey(e),s)}get(e,t=null){const a=g(this.getKey(e));if(a)try{const t=JSON.parse(a),{value:s,expire:n}=t;if(null===n||n>=Date.now())return s;this.remove(e)}catch(s){return t}return t}remove(e){y(this.getKey(e))}clear(){f()}})(),D=async e=>{const t=K.get("indexdata");return t&&2!==e?new Promise(((e,a)=>{e(t)})):x("index").then((e=>e))},j=async()=>x("sys"),O=(e,t)=>x("detail",{cid:e,id:t}),$=(e,t)=>x("detail",{type:e,id:t});export{D as a,j as b,b as c,h as d,O as e,$ as f,x as g,m as j,p as m,v as o};
//# sourceMappingURL=index.5c10b951.js.map
